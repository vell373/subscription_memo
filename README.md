# Subs Manager

サブスクリプションサービスをローカルで管理し、月額・年額の合計を可視化できるChrome拡張機能です。

## 機能

- ✅ サブスクリプションサービスの追加・削除
- ✅ 月額・年額の料金管理
- ✅ **換算金額表示**（月額⇔年額の自動換算）
- ✅ **スマート合計計算**（月額換算・年額換算の統合合計）
- ✅ CSV形式でのデータエクスポート
- ✅ ローカルストレージでのデータ保存（プライバシー重視）
- ✅ **拡張されたUI**（幅480px、詳細表示対応）

## 主な特徴

### 💡 換算金額表示
- 月額入力 → 年額換算を自動表示
- 年額入力 → 月額換算を自動表示
- 一覧で全サブスクの換算金額を一目で確認

### 📊 スマート合計計算
- **月額合計**: 月額入力分 + 年額入力分の月額換算
- **年額合計**: 年額入力分 + 月額入力分の年額換算
- 異なる周期のサブスクを統合して正確な合計を算出

## インストール方法

### デベロッパーモードでの読み込み

1. Chromeブラウザで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」をONにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. このプロジェクトのフォルダを選択
5. 拡張機能がツールバーに表示されます

### 拡張機能の固定

1. ツールバーの拡張機能アイコン（パズルピース）をクリック
2. 「Subs Manager」の横にあるピンアイコンをクリックして固定

## 使用方法

### サブスクリプションの追加

1. 拡張機能アイコンをクリックしてポップアップを開く
2. 「サービス名」にサービス名を入力（例：Netflix）
3. 「金額」に料金を入力（例：1500）
4. 「月額」または「年額」を選択
5. 「追加」ボタンをクリック

### 一覧表示の見方

一覧テーブルでは以下の情報が表示されます：
- **サービス名**: 登録したサービス名
- **金額**: 入力した金額
- **周期**: 月額または年額
- **換算金額**: 自動計算された換算金額（月額⇔年額）

### データの管理

- **削除**: 各サービスの「削除」ボタンをクリック
- **CSV出力**: 「CSV出力」ボタンでデータをダウンロード
- **全削除**: 「全削除」ボタンで全データを削除（確認ダイアログ表示）

### 合計の確認

テーブル下部に2種類の合計が表示されます：
- **月額合計**: 全サブスクを月額換算した合計
- **年額合計**: 全サブスクを年額換算した合計

## ファイル構成

```
subscription_memo/
├── manifest.json      # Chrome拡張機能のマニフェスト
├── popup.html         # ポップアップのHTML
├── popup.js          # メイン機能のJavaScript
├── README.md         # このファイル
└── 要件定義.md        # プロジェクトの要件定義
```

## 技術仕様

- **Manifest Version**: 3（最新のChrome拡張機能仕様）
- **UIサイズ**: 幅480px（拡張されたレイアウト）
- **データ保存**: localStorage（ローカル保存、プライバシー重視）
- **権限**: 最小限（追加権限不要）
- **対応ブラウザ**: Chrome、Edge（Chromium系）
- **計算機能**: リアルタイム換算表示、統合合計機能

## データ形式

### ローカルストレージ

```javascript
{
  "subscriptions": [
    {
      "id": "1691234567890abc",
      "name": "Netflix",
      "amount": 1500,
      "period": "monthly"
    }
  ]
}
```

### CSV出力形式

```csv
"name","amount","period"
"Netflix","1500","monthly"
"Adobe Creative Cloud","72000","yearly"
```

## 使用例

### 表示例

| サービス | 金額 | 周期 | 換算金額 | |
|---------|------|------|----------|---|
| Netflix | 1,500円 | 月額 | 年額: 18,000円 | 削除 |
| Adobe CC | 72,000円 | 年額 | 月額: 6,000円 | 削除 |
| Spotify | 980円 | 月額 | 年額: 11,760円 | 削除 |

### 合計表示例

- **月額合計**: 8,480円 (1,500 + 6,000 + 980)
- **年額合計**: 101,760円 (18,000 + 72,000 + 11,760)

## 今後の拡張予定

- [ ] サブスクリプションの編集機能
- [ ] サービスの並び替え・検索機能
- [ ] タグ分類機能
- [ ] 次回課金日・リマインダー機能
- [ ] chrome.storage.sync対応（複数PC間での同期）
- [ ] ダークモード対応

## 開発者向け情報

### 開発環境

- Chrome拡張機能 Manifest V3
- Vanilla JavaScript（フレームワーク不使用）
- CSS Grid/Flexbox レイアウト

### コード構成

- `popup.js`: メインロジック（データ管理、UI制御）
- `popup.html`: UI構造とスタイル
- `manifest.json`: 拡張機能設定

### デバッグ

1. `chrome://extensions/` で「詳細」をクリック
2. 「拡張機能のビューを検証」でポップアップをクリック
3. DevToolsでコンソールログを確認

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

バグ報告や機能要望は、GitHubのIssueでお知らせください。プルリクエストも歓迎します。

---

**注意**: このツールはローカルでデータを管理するため、ブラウザのデータを削除すると登録したサブスクリプション情報も失われます。重要なデータは定期的にCSV出力でバックアップすることをお勧めします。
